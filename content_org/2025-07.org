#+startup: content logdone inlneimages

#+hugo_base_dir: ../
#+hugo_section: posts/2025/07
#+author: derui

* ✨ 新しいキーボードを作った :自作キーボード:
CLOSED: [2025-07-05 土 17:20]
:PROPERTIES:
:EXPORT_FILE_NAME: orbit-one
:END:
なんというか色々と騒がしい世間、いかがお過ごしでしょうか。

さて、ここ数ヶ月かけて作っていたものがやっと完成したので、それについて書いていこうと思います。

#+html: <!--more-->

** 兎にも角にも見た目
こんな感じになりました。名前は *Orbit One* としています。

[[file:20250622_160711.jpg]]

見た目だけだとわかりにくいですが、特徴としては以下を意識して作ってます。

- 17mmの挟ピッチ
  - 指を無理に伸ばすことなく色々届きます
- 変形Alice配列
  - Alice配列ってわけでもないですが、各列を各々可動域に沿うように並べてます
  - これと挟ピッチとの合わせ技で、指がそこまで無理せずに動かせます
- Cirque Glidepointの搭載
  - やってみたかった勢。これがやりたかったので設計したと言っても過言ではありません
  - 自由なスタイルでの入力ができます
- アクリル積層ガスケット採用による柔らかい打鍵感
  - 打鍵感の好みは個々人によりますが、私としては概ね満足です
- 両サイドにエンコーダーを搭載
  - 実はエンコーダーを搭載したキーボードを使うのは初めてです
- Bluetooth/USBの両方対応
  - ZMK Firmwareを採用しています
  - 電池は意地で単４を採用しています。Zephyrがかなりの省電力なので、全くスリープしなくてもそこそこ持ちます


キースイッチとキーキャップは以下を利用しています。

- Durock Full POK Mocha silk ([[https://shop.yushakobo.jp/products/10392?_pos=4&_fid=0737356e6&_ss=c][link]])
- BitTradeOne DYKTOPBWH フローティングタイプ ([[https://www.amazon.co.jp/BitTradeOne-DYKTOPBWH-%E3%83%95%E3%83%AD%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%BF%E3%82%A4%E3%83%97104-%E3%82%AD%E3%83%BC%E3%83%88%E3%83%83%E3%83%97%E3%82%BB%E3%83%83%E3%83%88%E8%8B%B1%E8%AA%9E%E7%89%88-%E3%83%9B%E3%83%AF%E3%82%A4%E3%83%88/dp/B07ZK7VS4R?th=1][link]])

キーキャップは前にキーボードを作ったときにも書きましたが、挟ピッチで利用可能なキーキャップがめちゃくちゃ少ないため、探すのにとても苦労しました。

基本的にスイッチはリニア勢なのですが、今回せっかく（？）なのでタクタイルを初採用してみました。感想は後ほど。

PCBなどは以下のリポジトリにあります。

https://github.com/derui/orbit-one

さて、本来は設計思想などを諸々書いていくんでしょうが、ちょっとアホらしい失敗をしてしまっていたので、まずそっちから書きます。

** ミスった話

*** Glidepointの配置方式
画像にありますが、ストレートケーブルの弾性を考慮に入れきれておらず、たいへんカッコ悪いことになってしまってます。今回GlidePointはBeekeeb ([[https://github.com/derui/orbit-one][site]]) から調達したのですが、同梱されてくるPCB/ピンヘッダのサイズ感がまったくわからないままで設計を進めたため、全部出来上がってから気づくということになってしまいました。

反省： *わからない部品は手に取ってから検討しよう*

届いてからわかるのはなかなかに絶望感がまします。また、アクリル板などでなんとか抑えるところを作れないか・・・？というのも検討したんですが、微妙な段差などは3Dプリントでないとかなり厄介なことが、出来上がってからわかったのも悲しいポイントです。

*** マイコンの技適
[[file:20250614_100217.jpg]]

上の画像は、ちょうどソケットまではんだ付けが終わって、マイコンの動作確認ができたところなんですが、実は最新版だとそもそも利用しているマイコンが変わっています。

もともとは[[https://shop.beekeeb.com/product/nicenano/][nice!nano2]] という、Pro Micro互換のボードを利用しようと思っていたんですが、土壇場になって *技適が通っていないこと* に気づきました。調べてみると、nRF52xxxというチップを利用しているマイコンの大半（特にPro Microのclone系統）は技適がそもそもないということ・・・。

ということで、最新版では、技適が通っている・入手性が良い、という条件を満たしている、 Seeed XIAO BLE nRF52840 を *2個* 利用しています。なんでかって？pinが足らんからです。

#+begin_quote
総務省が公開しているデータベース上でも確認してます。
#+end_quote

実際ケースも出来上がってからこれに気づいたので、最終的にはかなり納得がいかない感じになってしまいました。


*** 電源スイッチの位置
電源スイッチの位置がかなり奥まっているため、とっても操作しづらいです。なんとかならんかというレベルなんですが、自分で作ったので誰に文句言うでもないですね。

*** ケースとPORONシート
今回、アクリル積層ガスケットのケースを設計したんですが、非常に誤差が大きい構成（2mm/3mm/5mmがそれぞれ２枚ずつ）になっていたため、ネジ止めには組ネジを利用しています。

が、組ネジは頭がでかいため、どうしても枠の構成が大きくならざるをえなくなってしまい、結果として非常に重厚な作りになりました。ガスケットやプレート間隙には基本的にPORONシートを埋めたんですが、デザインナイフで切るのはすごい時間がかかりました・・・。利用できるならレーザー加工を依頼したいところですね、これは。

** 感想コーナー
ミスは上げていくとキリがないので、今回のキーボードに対する感想を書き出してみます。

*** タクタイルスイッチ
今回地味に初採用したスイッチですが、それまで利用していたスイッチと本当に同じ押下圧なのか・・・？と思うくらいに重く感じます。おそらく、リニアで底打ちしたりはしていなかったので、それまでよりも力が必要になっているのでは？という気分になってます。

とはいえなんか打ってる！って気分にはなれるので、これはこれで悪くないなー、って感じてます。静音タクタイルも気になる。

*** 挟ピッチとレイアウト
レイアウトを決めるのに、それなりに時間を欠けたこともあり、総じて満足が得られるかな、という感じです。惜しむらくは、Shiftの位置にあるキーを押下するさいは、やはり手首を捻る必要がある、というのが若干悲しいところです。

ESCとかは問題なく伸ばせる状態になっているので、ここはもうちょっと練ってみたいところです。正直オーソリニアを傾けるだけでもいいのでは？って思ったりはしてます。

また、えらい久々に一体型の形態にしてみましたが、きちんと間が空いていれば、これでもそこまで問題はないなーっていうのが感想です。電池も一個で済むし、持ち運びという点でもそこそこいいなーと。分割よりも設計の手間が少ないですし。

#+begin_quote
なんで市販のものがほとんど一体型なのか？はこの辺にも理由はありそう
#+end_quote

*** ZMK Firmware
今回、無線対応を前庭として、ZMK Firmwareを利用しています。若干とっつきづらく、またコミュニティ規模としてもQMKに劣後はします。が、以下の点はとっても優位点だと思います。

- 無線が前提であるため、安定性が高い
  - BMP Micro Proを利用してましたが、それとは安定性がダンチです
  - 電池持ちはまだ未知数ですが
- qmkの頻繁なアップデートに付き合う必要がない
  - zmkは最初からmodularityを前提にしているので、更新自体はそんな頻度で起こりません
  - が、それはAPIが安定しているということでもあるので、moduleなりbehaviorとかを作る分にはむしろ限定できるので楽です


また、無線のプロファイル切り替えからの再接続も爆速です。たまーに怪しいとかはありますけど、bluetoothはまぁそんなもんですし。

*** エンコーダー
今回初めてエンコーダーを利用してみました。アサインとしては矢印キーをアサインしています。40%だと大抵矢印キー自体が別レイヤーなんですが、それを気にせず利用できる、ってのは結構楽です。特にIMEとの合わせ技で重宝しますね。一回試して見るのをおすすめします。


*** GlidePoint
さて、今回の目玉なんですが、実はまだ活用しきっていません。なんでかというと、スクロールがかなりやりづらいということがあるためです。

QMKでもCIRQUEのサポートがあったりするんですが、そっちでは *周辺をなぞるとスクロール* 、という機能があり、これがかなりのゲームチェンジャーになるのでは？という気分があります。現状はエンコーダーでスクロールしてますが、トラボと比べると若干位置が遠いのと、一回で移動できる量の問題もあり、意外と活用が難しいです。

** 次に向けて
正直今回は学びと引き換えにかなりの出費（おそらく２桁万円近くかかった）をしてしまったので、次はもうちょっと安く仕上げたいところです。

- ケースは3Dプリントでのガスケットマウントとかのほうが実は安いのでは
- glidepointのケースもほしい。やはり3Dプリンターか・・・
- 単4ではなく単３を使えるようにしたり
- やっぱりリセットスイッチであったり、状態を表すLED、パネルとかを利用できるようにしたい


などなど、快適に利用したい・・・ってなると諸々欲が出てきます。企画・設計にまた時間はかかりそうなので、とりあえずはこれを使い倒してみようかなーと思います。

この文はOrbit Oneで書きました。

* comment Local Variables                                           :ARCHIVE:
# Local Variables:
# eval: (org-hugo-auto-export-mode)
# End:

